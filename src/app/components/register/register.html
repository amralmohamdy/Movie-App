<div
  class="flex items-center justify-center min-h-screen bg-base-200 transition-colors duration-300"
>
  <div class="card w-96 bg-base-100 shadow-xl p-6 transition-colors duration-300">
    <h2 class="text-2xl font-bold mb-4 text-center text-base-content my-title">{{'register.title' | translate}}</h2>

    <form (ngSubmit)="register()" class="flex flex-col gap-3">
      <input
        [(ngModel)]="email"
        name="email"
        type="email"
        placeholder="Email"
        class="input input-bordered w-full"
        required
      />

      <input
        [(ngModel)]="password"
        name="password"
        type="password"
        placeholder="Password"
        class="input input-bordered w-full"
        required
      />

      <!-- Terms checkbox -->
      <label class="flex items-center gap-2 mt-2 text-sm text-base-content">
        <input
          type="checkbox"
          [(ngModel)]="agreeTerms"
          name="agreeTerms"
          required
          class="checkbox my-checkbox"
        />
        {{'register.agree' | translate}}
        <span class="link link-primary cursor-pointer" (click)="termsModalOpen = true"
          >{{'register.terms' | translate}}</span
        >
      </label>

      <button [disabled]="loading || !agreeTerms" class="btn my-btn w-full mt-3">
        {{'register.title' | translate}}
      </button>
    </form>

    <p *ngIf="error" class="text-error text-sm mt-3 text-center">{{ error }}</p>

    <p class="text-center mt-4 text-base-content">
      <a routerLink="/login" class="link link-primary">{{'register.ahac' | translate}}</a>
    </p>
  </div>
</div>

<!-- Terms Modal -->
<input type="checkbox" id="terms-modal" class="modal-toggle" [(ngModel)]="termsModalOpen" hidden />
<div class="modal" [class.modal-open]="termsModalOpen">
  <div class="modal-box relative bg-base-100">
    <h3 class="text-lg font-bold text-base-content">{{'register.terms' | translate}}</h3>
    <p class="py-4 text-sm text-base-content">
      {{'register.conditions' | translate}}
    </p>
    <div class="modal-action">
      <button class="btn btn-primary" (click)="termsModalOpen = false">{{'register.close' | translate}}</button>
    </div>
  </div>
</div>
