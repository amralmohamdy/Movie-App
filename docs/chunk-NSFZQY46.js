import{a as O}from"./chunk-SKXOHVQE.js";import{d as N}from"./chunk-A2E7AYG3.js";import{J as z}from"./chunk-62NZN4HA.js";import{Aa as c,Ab as L,Ba as n,Ca as f,Da as u,Fa as x,Ja as W,Ka as b,Q as _,Qa as r,Ra as s,Sa as g,T as t,Ta as M,Wa as P,Y as k,e as h,ea as I,fa as w,fb as C,gb as T,hb as E,jb as B,ka as v,kb as D,la as i,ma as a,na as m,sa as y,ub as R,y as d,za as S,zb as j}from"./chunk-PZ3TUFL2.js";function F(l,p){l&1&&(i(0,"div",15),m(1,"i",16),i(2,"span"),n(3),r(4,"translate"),a()()),l&2&&(t(3),u(" ",s(4,1,"item.saved")))}var U=class l{toast=d(O);translate=d(j);WishlistResourceSvc=d(N);auth=d(z);film={adult:!1,backdrop_path:"",genre_ids:[],id:0,original_language:"en",original_title:"",overview:"",popularity:0,poster_path:"",release_date:"",title:"",video:!1,vote_average:0,vote_count:0};isInWishlist=P(()=>this.WishlistResourceSvc.wishlistIds().includes(this.film.id));toggleWishlist(){return h(this,null,function*(){if(!this.auth.currentUser){this.showToastMessage(this.translate.instant("item.login_required"),"error");return}this.isInWishlist()?(yield this.WishlistResourceSvc.removeItem(this.film.id),this.showToastMessage(this.translate.instant("item.removed"),"info")):(yield this.WishlistResourceSvc.addItem(this.film.id),this.showToastMessage(this.translate.instant("item.added"),"success"))})}showToastMessage(p,o="info",e=4e3){this.toast.show(p,o,4e3)}static \u0275fac=function(o){return new(o||l)};static \u0275cmp=k({type:l,selectors:[["app-item"]],inputs:{film:"film"},decls:29,vars:50,consts:[[1,"card","movie-card","backdrop-blur-md","bg-base-100/70","dark:bg-base-300/60","border","border-base-300/30","shadow-lg","hover:shadow-2xl","transition-all","duration-300","rounded-2xl","overflow-hidden","group","relative"],[1,"relative","overflow-hidden"],[1,"movie-img","w-full","h-64","object-cover","transform","group-hover:scale-105","transition-transform","duration-500","cursor-pointer",3,"src","alt","routerLink"],[1,"absolute","top-3","inset-x-0","flex","justify-between","px-3","z-10"],["role","progressbar",1,"radial-progress","shadow-lg","backdrop-blur-sm","transition-all","duration-300","border-2","bg-white/90","dark:bg-base-300/90","border-base-200","dark:border-base-100","text-primary",2,"--size","2.5rem","--thickness","3px"],[1,"text-xs","font-bold"],["aria-label","Favorite button",1,"btn","btn-circle","btn-sm","shadow-lg","backdrop-blur-sm","transition-all","border-2","border-base-200","dark:border-base-100","hover:bg-error","hover:text-white",3,"click"],[1,"fa-solid"],[1,"pointer-events-none","absolute","inset-0","bg-gradient-to-t","from-black/70","via-black/10","to-transparent","opacity-0","group-hover:opacity-100","transition-opacity","duration-300"],[1,"card-body","p-4"],[1,"card-title","text-lg","font-semibold","flex","items-center","justify-between","text-base-content"],[1,"badge","badge-outline","badge-sm"],[1,"text-sm","text-base-content/60","mt-1"],[1,"card-actions","justify-between","items-center","mt-4"],[1,"dt-btn","btn","btn-primary","btn-sm","rounded-full","px-4","transition-transform","duration-300","hover:scale-105",3,"routerLink"],[1,"flex","items-center","gap-1","text-violet-500","dark:text-violet-400","font-semibold","text-sm"],[1,"fa-solid","fa-bookmark"]],template:function(o,e){o&1&&(i(0,"article",0)(1,"div",1),m(2,"img",2),i(3,"div",3)(4,"div",4)(5,"span",5),n(6),r(7,"number"),a()(),i(8,"button",6),y("click",function(){return e.toggleWishlist()}),m(9,"i",7),a()(),m(10,"div",8),a(),i(11,"div",9)(12,"h3",10)(13,"span"),n(14),r(15,"slice"),a(),i(16,"span",11),n(17),r(18,"date"),a()(),i(19,"p",12),n(20),r(21,"translate"),r(22,"uppercase"),r(23,"translate"),a(),i(24,"div",13)(25,"button",14),n(26),r(27,"translate"),a(),I(28,F,5,3,"div",15),a()()()),o&2&&(t(2),v("alt",W(e.film.title))("routerLink",b("/movies/",e.film.id))("src",e.film.poster_path?"https://image.tmdb.org/t/p/w500"+e.film.poster_path:"imgnotfound.png",_),t(2),S("--value",e.film.vote_average*10),c("text-success",e.film.vote_average>=7)("text-warning",e.film.vote_average<7&&e.film.vote_average>=5)("text-error",e.film.vote_average<5),t(2),u("",g(7,32,e.film.vote_average*10,"1.0-0"),"%"),t(2),c("bg-error",e.isInWishlist())("text-white",e.isInWishlist()),t(),c("fa-heart-crack",e.isInWishlist())("fa-heart",!e.isInWishlist()),t(5),f(e.film.title.length>16?M(15,35,e.film.title,0,16)+"\u2026":e.film.title),t(3),f(g(18,39,e.film.release_date,"yyyy")),t(3),x(" (",s(21,42,"item.lang"),": ",s(22,44,e.film.original_language),", ",s(23,46,"item.date"),": ",e.film.release_date,") "),t(5),v("routerLink",b("/movies/",e.film.id)),t(),u(" ",s(27,48,"item.details")," "),t(2),w(e.isInWishlist()?28:-1))},dependencies:[D,R,C,B,E,T,L],styles:[".btn-circle[_ngcontent-%COMP%]{transition:background-color .3s ease,color .3s ease}.dt-btn[_ngcontent-%COMP%]{background:var(--hover-color);color:#fff;border:none;transition:background-position .5s ease-in-out;background-size:200% 100%;background-position:left}.dt-btn[_ngcontent-%COMP%]:hover{background-position:right}"]})};export{U as a};
