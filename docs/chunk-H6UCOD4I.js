import{a as Q}from"./chunk-7PX33K2C.js";import{b as $,c as G,f as J,j as K}from"./chunk-GVJVKNK5.js";import{a as X}from"./chunk-D6EJJF3N.js";import{a as U}from"./chunk-NSFZQY46.js";import"./chunk-SKXOHVQE.js";import{c as L}from"./chunk-A2E7AYG3.js";import"./chunk-62NZN4HA.js";import{Ab as q,Ba as c,C as g,Ca as S,D as u,Da as f,Ga as N,Ha as D,Ia as B,Ja as F,Na as C,Qa as v,Ra as h,T as r,Wa as k,X as P,Y as x,ba as I,bb as O,cb as R,db as z,ea as w,eb as A,fa as M,ia as V,ja as E,ka as l,kb as y,la as a,ma as s,na as _,ra as b,sa as p,tb as W,ua as m,y as j}from"./chunk-PZ3TUFL2.js";var ie=t=>({"background-image":t}),T=class t{constructor(n,e){this.router=n;this.theme=e}searchTerm="";onSearch(){this.searchTerm.trim()&&this.router.navigate(["/search"],{queryParams:{q:this.searchTerm}})}get isDarkMode(){return this.theme.theme()==="dark"}static \u0275fac=function(e){return new(e||t)(P(W),P(Q))};static \u0275cmp=x({type:t,selectors:[["app-hero"]],inputs:{searchTerm:"searchTerm"},decls:18,vars:20,consts:[[1,"relative","hero","min-h-[70vh]","flex","items-center","justify-center","overflow-hidden","text-white","bg-fixed","bg-center","bg-cover",3,"ngStyle"],[1,"absolute","inset-0","bg-opacity-70","backdrop-blur-sm"],[1,"relative","text-center","max-w-2xl","px-4","z-10"],[1,"text-5xl","font-bold","mb-4"],[1,"siteName"],[1,"text-gray-300","text-lg","mb-6"],[1,"join","w-full","max-w-md","mx-auto"],["type","text",1,"input","input-bordered","join-item","w-full","transition-all","duration-200","bg-base-200","text-base-content","placeholder-base-content/60","focus:outline-none","focus:ring-2","focus:ring-info/50","focus:border-info",3,"ngModelChange","keyup.enter","placeholder","ngModel"],[1,"btn","btn-primary","my","join-item","text-white",3,"click"]],template:function(e,i){e&1&&(a(0,"section",0),_(1,"div",1),a(2,"div",2)(3,"h1",3),c(4),v(5,"translate"),a(6,"span",4),c(7),v(8,"translate"),s()(),a(9,"p",5),c(10),v(11,"translate"),s(),a(12,"div",6)(13,"input",7),v(14,"translate"),B("ngModelChange",function(d){return D(i.searchTerm,d)||(i.searchTerm=d),d}),p("keyup.enter",function(){return i.onSearch()}),s(),a(15,"button",8),p("click",function(){return i.onSearch()}),c(16),v(17,"translate"),s()()()()),e&2&&(l("ngStyle",C(18,ie,i.isDarkMode?"url(bg-dark.jpg)":"url(bg-light.jpg)")),r(4),f(" ",h(5,8,"hero.hello")," "),r(3),S(h(8,10,"hero.site")),r(3),S(h(11,12,"hero.description")),r(3),l("placeholder",F(h(14,14,"hero.input"))),N("ngModel",i.searchTerm),r(3),f(" ",h(17,16,"hero.searchBtn")," "))},dependencies:[K,$,G,J,y,A,q],styles:['.hero[_ngcontent-%COMP%]{background-attachment:fixed;background-size:cover;background-position:center;position:relative}.hero[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(to bottom,#00000080,#000000e6);z-index:1}.siteName[_ngcontent-%COMP%]{background:var(--hover-color);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;color:transparent}.my[_ngcontent-%COMP%]{background:var(--hover-color);border:var(--hover-color);box-shadow:var(--hover-color)}']})};var ne=t=>({"btn-primary active text-white":t}),oe=(t,n)=>n.id;function re(t,n){t&1&&_(0,"app-skeleton",1)}function ae(t,n){if(t&1&&(a(0,"p"),c(1,"Error in getting data"),s(),a(2,"p"),c(3),s()),t&2){let e,i=m();r(3),f("Error: ",(e=i.svc.movieResource.error())==null?null:e.message)}}function se(t,n){if(t&1&&_(0,"app-item",3),t&2){let e=n.$implicit;l("film",e)}}function le(t,n){if(t&1){let e=b();a(0,"button",8),p("click",function(){g(e);let o=m(2);return u(o.changePage(o.visiblePages()[0]-1))}),c(1," \u2026 "),s()}}function ce(t,n){if(t&1){let e=b();a(0,"button",9),p("click",function(){let o=g(e).$implicit,d=m(2);return u(d.changePage(o))}),c(1),s()}if(t&2){let e=n.$implicit,i=m(2);l("ngClass",C(2,ne,i.svc.page()===e)),r(),f(" ",e," ")}}function pe(t,n){if(t&1){let e=b();a(0,"button",8),p("click",function(){g(e);let o=m(2);return u(o.changePage(o.visiblePages()[o.visiblePages().length-1]+1))}),c(1," \u2026 "),s()}}function me(t,n){if(t&1){let e=b();a(0,"div",2),V(1,se,1,1,"app-item",3,oe),s(),a(3,"div",4)(4,"button",5),p("click",function(){g(e);let o=m();return u(o.changePage(o.svc.page()-1))}),c(5," \xAB "),s(),I(6,le,2,0,"button",6)(7,ce,2,4,"button",7)(8,pe,2,0,"button",6),a(9,"button",5),p("click",function(){g(e);let o=m();return u(o.changePage(o.svc.page()+1))}),c(10," \xBB "),s()()}if(t&2){let e=m();l("dir",e.svc.lang().slice(0,2)==="ar"?"rtl":"ltr"),r(),E(e.Movies()),r(3),l("disabled",e.svc.page()===1),r(2),l("ngIf",e.visiblePages()[0]>1),r(),l("ngForOf",e.visiblePages()),r(),l("ngIf",e.visiblePages()[e.visiblePages().length-1]<e.totalPages()),r(),l("disabled",e.svc.page()===e.totalPages())}}var H=class t{svc=j(L);searchTerm="";Movies=k(()=>this.svc.movieResource.value()?.results??[]);totalPages=k(()=>this.svc.movieResource.value()?.total_pages??1);visibleCount=5;visiblePages=k(()=>{let n=this.svc.page(),e=this.totalPages(),i=Math.floor((n-1)/this.visibleCount)*this.visibleCount+1,o=Math.min(i+this.visibleCount-1,e);return Array.from({length:o-i+1},(d,Y)=>i+Y)});changePage(n){n>=1&&n<=this.totalPages()&&this.svc.page.set(n)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=x({type:t,selectors:[["app-homepage"]],decls:4,vars:4,consts:[[3,"searchTerm","dir"],["type","list"],[1,"grid","grid-cols-2","md:grid-cols-4","lg:grid-cols-5","gap-4","my-8","px-4",3,"dir"],[3,"film"],[1,"join","flex","justify-center","mt-8"],[1,"join-item","btn",3,"click","disabled"],["class","join-item btn",3,"click",4,"ngIf"],["class","join-item btn",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"join-item","btn",3,"click"],[1,"join-item","btn",3,"click","ngClass"]],template:function(e,i){e&1&&(_(0,"app-hero",0),w(1,re,1,0,"app-skeleton",1),w(2,ae,4,1)(3,me,11,6)),e&2&&(l("searchTerm",i.searchTerm)("dir",i.svc.lang().slice(0,2)==="ar"?"rtl":"ltr"),r(),M(i.svc.movieResource.isLoading()?1:-1),r(),M(i.svc.movieResource.error()?2:3))},dependencies:[y,O,R,z,T,U,X],styles:[".active[_ngcontent-%COMP%]{background:var(--hover-color);border:var(--hover-color)}"]})};export{H as default};
