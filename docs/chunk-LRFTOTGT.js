import{d as C}from"./chunk-A2E7AYG3.js";import{J as _}from"./chunk-62NZN4HA.js";import{Ab as S,Ba as n,Ca as o,Ea as b,Qa as a,Ra as c,T as t,Wa as u,X as g,Xa as E,Y as x,oa as e,pa as i,ta as p,tb as w,y as d}from"./chunk-PZ3TUFL2.js";var f=class v{constructor(l){this.authSvc=l;E(()=>{this.currentUser()||this.router.navigate(["/login"])})}router=d(w);wishlistSvc=d(C);currentUser=u(()=>this.authSvc.currentUser);wishlistCount=u(()=>this.wishlistSvc.wishlistCount());logout(){this.authSvc.logout().then(()=>{this.router.navigate(["/login"])})}changePassword(){let l=prompt("Enter your new password:");l&&this.authSvc.changePassword(l).then(()=>alert("Password updated successfully!")).catch(r=>alert("Error: "+r.message))}static \u0275fac=function(r){return new(r||v)(g(_))};static \u0275cmp=x({type:v,selectors:[["app-account"]],decls:26,vars:18,consts:[[1,"min-h-screen","bg-base-200","flex","items-center","justify-center","p-4"],[1,"card","w-full","max-w-lg","bg-base-100","shadow-xl"],[1,"card-body"],[1,"card-title","justify-center","text-2xl","mb-4"],[1,"grid","grid-cols-1","gap-4","md:grid-cols-2"],[1,"p-4","bg-base-200","rounded-lg","text-center"],[1,"font-semibold","text-sm","text-gray-500"],[1,"text-lg","font-bold"],[1,"mt-6","flex","flex-col","gap-3","md:flex-row","justify-center"],[1,"btn","btn-primary","flex-1",3,"click"],[1,"btn","btn-error","flex-1",3,"click"]],template:function(r,s){if(r&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),n(4),a(5,"translate"),i(),e(6,"div",4)(7,"div",5)(8,"p",6),n(9),a(10,"translate"),i(),e(11,"p",7),n(12),i()(),e(13,"div",5)(14,"p",6),n(15),a(16,"translate"),i(),e(17,"p",7),n(18),i()()(),e(19,"div",8)(20,"button",9),p("click",function(){return s.changePassword()}),n(21),a(22,"translate"),i(),e(23,"button",10),p("click",function(){return s.logout()}),n(24),a(25,"translate"),i()()()()()),r&2){let m,h;t(4),b("",c(5,8,"account.welcome")," ",(m=s.currentUser())==null?null:m.email),t(5),o(c(10,10,"account.email")),t(3),o((h=s.currentUser())==null?null:h.email),t(3),o(c(16,12,"account.wishlistmovies")),t(3),o(s.wishlistCount()),t(3),o(c(22,14,"account.changePassword")),t(3),o(c(25,16,"account.logout"))}},dependencies:[S],encapsulation:2})};export{f as default};
