import{d as A}from"./chunk-QU2DSLHC.js";import{I as H}from"./chunk-ZR5CBTAD.js";import{Aa as f,Ab as V,Ba as d,Bb as q,Ca as h,Da as b,E as u,Fa as E,J as g,Ja as C,Ka as _,Q as T,Qa as B,Ra as r,Sa as p,T as t,Ta as k,Ua as D,Xa as N,Y as x,ba as M,cb as j,e as I,ea as S,eb as z,fa as P,gb as R,hb as L,ib as F,ka as m,kb as G,la as i,lb as O,ma as s,na as o,sa as W,vb as U,y as v,za as w}from"./chunk-G3D7CDXJ.js";var X=(n,a,l,e,c)=>({"alert-success":n,"alert-error":a,"alert-info":l,"translate-y-0 opacity-100":e,"translate-y-[-120%] opacity-0":c});function Y(n,a){n&1&&(i(0,"div",15),o(1,"i",22),i(2,"span"),d(3),r(4,"translate"),s()()),n&2&&(t(3),b(" ",p(4,1,"item.saved")))}function Z(n,a){n&1&&(u(),i(0,"svg",23),o(1,"path",24),s())}function $(n,a){n&1&&(u(),i(0,"svg",23),o(1,"path",25),s())}function ee(n,a){n&1&&(u(),i(0,"svg",26),o(1,"path",27),s())}var J=class n{translate=v(V);WishlistResourceSvc=v(A);auth=v(H);showToast=g(!1);toastMessage=g("");toastType=g("info");toastProgress=g(0);film={adult:!1,backdrop_path:"",genre_ids:[],id:0,original_language:"en",original_title:"",overview:"",popularity:0,poster_path:"",release_date:"",title:"",video:!1,vote_average:0,vote_count:0};isInWishlist=N(()=>this.WishlistResourceSvc.wishlistIds().includes(this.film.id));toggleWishlist(){return I(this,null,function*(){if(!this.auth.currentUser){this.showToastMessage(this.translate.instant("item.login_required"),"error");return}this.isInWishlist()?(yield this.WishlistResourceSvc.removeItem(this.film.id),this.showToastMessage(this.translate.instant("item.removed"),"info")):(yield this.WishlistResourceSvc.addItem(this.film.id),this.showToastMessage(this.translate.instant("item.added"),"success"))})}showToastMessage(a,l="info",e=4e3){this.toastMessage.set(a),this.toastType.set(l),this.showToast.set(!0),this.toastProgress.set(0);let c=20,K=c/e,Q=setInterval(()=>{let y=this.toastProgress()+K;y>=1?(this.toastProgress.set(1),this.showToast.set(!1),clearInterval(Q)):this.toastProgress.set(y)},c)}static \u0275fac=function(l){return new(l||n)};static \u0275cmp=x({type:n,selectors:[["app-item"]],inputs:{film:"film"},decls:37,vars:63,consts:[[1,"card","movie-card","backdrop-blur-md","bg-base-100/70","dark:bg-base-300/60","border","border-base-300/30","shadow-lg","hover:shadow-2xl","transition-all","duration-300","rounded-2xl","overflow-hidden","group","relative"],[1,"relative","overflow-hidden"],[1,"movie-img","w-full","h-64","object-cover","transform","group-hover:scale-105","transition-transform","duration-500","cursor-pointer",3,"src","alt","routerLink"],[1,"absolute","top-3","inset-x-0","flex","justify-between","px-3","z-10"],["role","progressbar",1,"radial-progress","shadow-lg","backdrop-blur-sm","transition-all","duration-300","border-2","bg-white/90","dark:bg-base-300/90","border-base-200","dark:border-base-100","text-primary",2,"--size","2.5rem","--thickness","3px"],[1,"text-xs","font-bold"],["aria-label","Favorite button",1,"btn","btn-circle","btn-sm","shadow-lg","backdrop-blur-sm","transition-all","border-2","border-base-200","dark:border-base-100","hover:bg-error","hover:text-white",3,"click"],[1,"fa-solid"],[1,"pointer-events-none","absolute","inset-0","bg-gradient-to-t","from-black/70","via-black/10","to-transparent","opacity-0","group-hover:opacity-100","transition-opacity","duration-300"],[1,"card-body","p-4"],[1,"card-title","text-lg","font-semibold","flex","items-center","justify-between","text-base-content"],[1,"badge","badge-outline","badge-sm"],[1,"text-sm","text-base-content/60","mt-1"],[1,"card-actions","justify-between","items-center","mt-4"],[1,"dt-btn","btn","btn-primary","btn-sm","rounded-full","px-4","transition-transform","duration-300","hover:scale-105",3,"routerLink"],[1,"flex","items-center","gap-1","text-violet-500","dark:text-violet-400","font-semibold","text-sm"],[1,"fixed","top-4","inset-x-0","z-[1000]","w-full","max-w-sm","mx-auto","p-2","pointer-events-none"],[1,"alert","shadow-2xl","rounded-xl","transition-transform","duration-500","ease-out","transform",3,"ngClass"],["xmlns","http://www.w3.org/2000/svg","class","stroke-current shrink-0 h-6 w-6","fill","none","viewBox","0 0 24 24",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","class","stroke-current shrink-0 w-6 h-6",4,"ngIf"],[1,"font-medium"],[1,"absolute","bottom-0","start-0","h-1","bg-current","opacity-70",2,"transition","width 0.1s linear"],[1,"fa-solid","fa-bookmark"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"stroke-current","shrink-0","h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"stroke-current","shrink-0","w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"]],template:function(l,e){l&1&&(i(0,"article",0)(1,"div",1),o(2,"img",2),i(3,"div",3)(4,"div",4)(5,"span",5),d(6),r(7,"number"),s()(),i(8,"button",6),W("click",function(){return e.toggleWishlist()}),o(9,"i",7),s()(),o(10,"div",8),s(),i(11,"div",9)(12,"h3",10)(13,"span"),d(14),r(15,"slice"),s(),i(16,"span",11),d(17),r(18,"date"),s()(),i(19,"p",12),d(20),r(21,"translate"),r(22,"uppercase"),r(23,"translate"),s(),i(24,"div",13)(25,"button",14),d(26),r(27,"translate"),s(),S(28,Y,5,3,"div",15),s()()(),i(29,"div",16)(30,"div",17),M(31,Z,2,0,"svg",18)(32,$,2,0,"svg",18)(33,ee,2,0,"svg",19),i(34,"span",20),d(35),s(),o(36,"div",21),s()()),l&2&&(t(2),m("alt",C(e.film.title))("routerLink",_("/movies/",e.film.id))("src",e.film.poster_path?"https://image.tmdb.org/t/p/w500"+e.film.poster_path:"imgnotfound.png",T),t(2),w("--value",e.film.vote_average*10),f("text-success",e.film.vote_average>=7)("text-warning",e.film.vote_average<7&&e.film.vote_average>=5)("text-error",e.film.vote_average<5),t(2),b("",k(7,39,e.film.vote_average*10,"1.0-0"),"%"),t(2),f("bg-error",e.isInWishlist())("text-white",e.isInWishlist()),t(),f("fa-heart-crack",e.isInWishlist())("fa-heart",!e.isInWishlist()),t(5),h(e.film.title.length>16?D(15,42,e.film.title,0,16)+"\u2026":e.film.title),t(3),h(k(18,46,e.film.release_date,"yyyy")),t(3),E(" (",p(21,49,"item.lang"),": ",p(22,51,e.film.original_language),", ",p(23,53,"item.date"),": ",e.film.release_date,") "),t(5),m("routerLink",_("/movies/",e.film.id)),t(),b(" ",p(27,55,"item.details")," "),t(2),P(e.isInWishlist()?28:-1),t(2),m("ngClass",B(57,X,e.toastType()==="success",e.toastType()==="error",e.toastType()==="info",e.showToast(),!e.showToast())),t(),m("ngIf",e.toastType()==="success"),t(),m("ngIf",e.toastType()==="error"),t(),m("ngIf",e.toastType()==="info"),t(2),h(e.toastMessage()),t(),w("width",e.toastProgress()*100,"%"))},dependencies:[O,j,z,U,R,G,F,L,q],styles:[".btn-circle[_ngcontent-%COMP%]{transition:background-color .3s ease,color .3s ease}.dt-btn[_ngcontent-%COMP%]{background:var(--hover-color);color:#fff;border:none;transition:background-position .5s ease-in-out;background-size:200% 100%;background-position:left}.dt-btn[_ngcontent-%COMP%]:hover{background-position:right}"]})};export{J as a};
